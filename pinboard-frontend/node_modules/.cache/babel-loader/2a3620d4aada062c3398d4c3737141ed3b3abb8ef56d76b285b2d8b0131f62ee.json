{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suki\\\\Desktop\\\\pinboard\\\\pinboard-frontend\\\\src\\\\components\\\\user\\\\ProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { getUserProfile } from '../../services/userService';\nimport { getBoards } from '../../services/boardService';\nimport { sendFriendRequest, checkFriendshipStatus } from '../../services/socialService';\nimport Spinner from '../common/Spinner';\nimport PinGrid from '../pin/PinGrid';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfileContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n_c = ProfileContainer;\nconst ProfileHeader = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding: 2rem;\n  background-color: white;\n  border-radius: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  \n  @media (min-width: 768px) {\n    flex-direction: row;\n    align-items: flex-start;\n  }\n`;\n_c2 = ProfileHeader;\nconst AvatarContainer = styled.div`\n  margin-bottom: 1.5rem;\n  \n  @media (min-width: 768px) {\n    margin-right: 2rem;\n    margin-bottom: 0;\n  }\n`;\n_c3 = AvatarContainer;\nconst Avatar = styled.div`\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  background-color: #f0f0f0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 3rem;\n  font-weight: bold;\n  color: #666;\n`;\n_c4 = Avatar;\nconst ProfileInfo = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  \n  @media (min-width: 768px) {\n    text-align: left;\n  }\n`;\n_c5 = ProfileInfo;\nconst Username = styled.h1`\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n`;\n_c6 = Username;\nconst Bio = styled.p`\n  color: #666;\n  margin-bottom: 1.5rem;\n`;\n_c7 = Bio;\nconst Stats = styled.div`\n  display: flex;\n  gap: 1.5rem;\n  margin-bottom: 1.5rem;\n  justify-content: center;\n  \n  @media (min-width: 768px) {\n    justify-content: flex-start;\n  }\n`;\n_c8 = Stats;\nconst StatItem = styled.div`\n  text-align: center;\n`;\n_c9 = StatItem;\nconst StatValue = styled.div`\n  font-size: 1.2rem;\n  font-weight: bold;\n`;\n_c0 = StatValue;\nconst StatLabel = styled.div`\n  font-size: 0.9rem;\n  color: #666;\n`;\n_c1 = StatLabel;\nconst ActionButton = styled.button`\n  background-color: ${props => props.primary ? '#e60023' : '#f0f0f0'};\n  color: ${props => props.primary ? 'white' : '#333'};\n  border: none;\n  border-radius: 24px;\n  padding: 0.75rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  align-self: center;\n  \n  &:hover {\n    background-color: ${props => props.primary ? '#ad081b' : '#ddd'};\n  }\n  \n  &:disabled {\n    background-color: #ddd;\n    cursor: not-allowed;\n  }\n  \n  @media (min-width: 768px) {\n    align-self: flex-start;\n  }\n`;\n_c10 = ActionButton;\nconst TabsContainer = styled.div`\n  display: flex;\n  border-bottom: 1px solid #ddd;\n  margin-bottom: 2rem;\n`;\n_c11 = TabsContainer;\nconst Tab = styled.button`\n  padding: 1rem 1.5rem;\n  background: none;\n  border: none;\n  border-bottom: 3px solid ${props => props.active ? '#e60023' : 'transparent'};\n  color: ${props => props.active ? '#e60023' : '#666'};\n  font-weight: ${props => props.active ? 'bold' : 'normal'};\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    color: #e60023;\n  }\n`;\n_c12 = Tab;\nconst BoardsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 1.5rem;\n`;\n_c13 = BoardsGrid;\nconst BoardCard = styled(Link)`\n  background-color: white;\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s;\n  \n  &:hover {\n    transform: translateY(-5px);\n  }\n`;\n_c14 = BoardCard;\nconst BoardThumbnail = styled.div`\n  height: 150px;\n  background-color: #f5f5f5;\n  position: relative;\n  overflow: hidden;\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`;\n_c15 = BoardThumbnail;\nconst BoardInfo = styled.div`\n  padding: 1rem;\n`;\n_c16 = BoardInfo;\nconst BoardName = styled.h3`\n  font-size: 1.1rem;\n  margin-bottom: 0.25rem;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`;\n_c17 = BoardName;\nconst BoardStats = styled.div`\n  font-size: 0.9rem;\n  color: #666;\n`;\n_c18 = BoardStats;\nconst EmptyState = styled.div`\n  padding: 3rem;\n  text-align: center;\n  background-color: white;\n  border-radius: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n`;\n_c19 = EmptyState;\nconst EmptyStateTitle = styled.h3`\n  font-size: 1.2rem;\n  margin-bottom: 1rem;\n`;\n_c20 = EmptyStateTitle;\nconst EmptyStateMessage = styled.p`\n  color: #666;\n  margin-bottom: 1.5rem;\n`;\n_c21 = EmptyStateMessage;\nconst ProfilePage = () => {\n  _s();\n  const {\n    username\n  } = useParams();\n  const {\n    currentUser\n  } = useAuth();\n  const [profile, setProfile] = useState(null);\n  const [boards, setBoards] = useState([]);\n  const [pins, setPins] = useState([]);\n  const [activeTab, setActiveTab] = useState('boards');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [friendshipStatus, setFriendshipStatus] = useState(null);\n  const [friendRequestSent, setFriendRequestSent] = useState(false);\n  useEffect(() => {\n    const fetchProfileData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // 获取用户资料\n        const profileResponse = await getUserProfile(username);\n        setProfile(profileResponse.data);\n\n        // 获取用户的面板\n        const boardsResponse = await getBoards(profileResponse.data.user_id);\n        setBoards(boardsResponse.data);\n\n        // 如果已登录，检查好友关系状态\n        if (currentUser && currentUser.user_id !== profileResponse.data.user_id) {\n          const statusResponse = await checkFriendshipStatus(profileResponse.data.user_id);\n          setFriendshipStatus(statusResponse.data.status);\n        }\n        setLoading(false);\n      } catch (err) {\n        console.error('获取用户资料失败:', err);\n        setError('获取用户资料失败，请稍后再试');\n        setLoading(false);\n      }\n    };\n    fetchProfileData();\n  }, [username, currentUser]);\n  const handleSendFriendRequest = async () => {\n    if (!currentUser) return;\n    try {\n      await sendFriendRequest(profile.user_id);\n      setFriendshipStatus('pending');\n      setFriendRequestSent(true);\n    } catch (err) {\n      console.error('发送好友请求失败:', err);\n    }\n  };\n  const handleTabChange = tab => {\n    setActiveTab(tab);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 12\n    }, this);\n  }\n  if (error || !profile) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error || '找不到该用户']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 12\n    }, this);\n  }\n  const isOwnProfile = currentUser && currentUser.user_id === profile.user_id;\n  return /*#__PURE__*/_jsxDEV(ProfileContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ProfileHeader, {\n      children: [/*#__PURE__*/_jsxDEV(AvatarContainer, {\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          children: profile.username.charAt(0).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProfileInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Username, {\n          children: profile.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), profile.profile_info && /*#__PURE__*/_jsxDEV(Bio, {\n          children: profile.profile_info\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Stats, {\n          children: [/*#__PURE__*/_jsxDEV(StatItem, {\n            children: [/*#__PURE__*/_jsxDEV(StatValue, {\n              children: boards.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n              children: \"\\u9762\\u677F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StatItem, {\n            children: [/*#__PURE__*/_jsxDEV(StatValue, {\n              children: profile.pin_count || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n              children: \"\\u56FE\\u9489\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StatItem, {\n            children: [/*#__PURE__*/_jsxDEV(StatValue, {\n              children: profile.friend_count || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StatLabel, {\n              children: \"\\u597D\\u53CB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), isOwnProfile ? /*#__PURE__*/_jsxDEV(ActionButton, {\n          as: Link,\n          to: \"/profile/edit\",\n          children: \"\\u7F16\\u8F91\\u4E2A\\u4EBA\\u8D44\\u6599\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this) : currentUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [friendshipStatus === 'friends' && /*#__PURE__*/_jsxDEV(ActionButton, {\n            disabled: true,\n            children: \"\\u5DF2\\u662F\\u597D\\u53CB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this), friendshipStatus === 'pending' && /*#__PURE__*/_jsxDEV(ActionButton, {\n            disabled: true,\n            children: friendRequestSent ? '请求已发送' : '等待接受'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this), (!friendshipStatus || friendshipStatus === 'none') && /*#__PURE__*/_jsxDEV(ActionButton, {\n            primary: true,\n            onClick: handleSendFriendRequest,\n            children: \"\\u6DFB\\u52A0\\u597D\\u53CB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TabsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        active: activeTab === 'boards',\n        onClick: () => handleTabChange('boards'),\n        children: \"\\u9762\\u677F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        active: activeTab === 'pins',\n        onClick: () => handleTabChange('pins'),\n        children: \"\\u56FE\\u9489\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this), activeTab === 'boards' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: boards.length > 0 ? /*#__PURE__*/_jsxDEV(BoardsGrid, {\n        children: [boards.map(board => /*#__PURE__*/_jsxDEV(BoardCard, {\n          to: `/board/${board.board_id}`,\n          children: [/*#__PURE__*/_jsxDEV(BoardThumbnail, {\n            children: board.cover_image ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: board.cover_image,\n              alt: board.board_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: '100%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                color: '#999'\n              },\n              children: \"\\u6682\\u65E0\\u56FE\\u7247\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(BoardInfo, {\n            children: [/*#__PURE__*/_jsxDEV(BoardName, {\n              children: board.board_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(BoardStats, {\n              children: [board.pin_count || 0, \" \\u4E2A\\u56FE\\u9489\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 19\n          }, this)]\n        }, board.board_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 17\n        }, this)), isOwnProfile && /*#__PURE__*/_jsxDEV(BoardCard, {\n          to: \"/board/create\",\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            minHeight: '200px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"40\",\n              height: \"40\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\",\n                fill: \"#666\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '0.5rem',\n                color: '#666'\n              },\n              children: \"\\u521B\\u5EFA\\u9762\\u677F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: [/*#__PURE__*/_jsxDEV(EmptyStateTitle, {\n          children: isOwnProfile ? '您还没有创建任何面板' : `${profile.username} 还没有创建任何面板`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(EmptyStateMessage, {\n          children: isOwnProfile ? '面板是整理和保存图钉的地方。为您的不同兴趣创建面板，开始收集灵感吧！' : '当有面板创建时，它们将显示在这里。'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }, this), isOwnProfile && /*#__PURE__*/_jsxDEV(ActionButton, {\n          primary: true,\n          as: Link,\n          to: \"/board/create\",\n          children: \"\\u521B\\u5EFA\\u7B2C\\u4E00\\u4E2A\\u9762\\u677F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 13\n      }, this)\n    }, void 0, false), activeTab === 'pins' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: pins.length > 0 ? /*#__PURE__*/_jsxDEV(PinGrid, {\n        pins: pins\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: [/*#__PURE__*/_jsxDEV(EmptyStateTitle, {\n          children: isOwnProfile ? '您还没有保存任何图钉' : `${profile.username} 还没有保存任何图钉`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(EmptyStateMessage, {\n          children: isOwnProfile ? '保存您喜欢的图钉，开始创建个人收藏吧！' : '当保存图钉时，它们将显示在这里。'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 15\n        }, this), isOwnProfile && /*#__PURE__*/_jsxDEV(ActionButton, {\n          primary: true,\n          as: Link,\n          to: \"/\",\n          children: \"\\u6D4F\\u89C8\\u56FE\\u9489\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 13\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfilePage, \"7rpmcUL4kIsQxuvIgtDzUmCc/Ho=\", false, function () {\n  return [useParams, useAuth];\n});\n_c22 = ProfilePage;\nexport default ProfilePage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22;\n$RefreshReg$(_c, \"ProfileContainer\");\n$RefreshReg$(_c2, \"ProfileHeader\");\n$RefreshReg$(_c3, \"AvatarContainer\");\n$RefreshReg$(_c4, \"Avatar\");\n$RefreshReg$(_c5, \"ProfileInfo\");\n$RefreshReg$(_c6, \"Username\");\n$RefreshReg$(_c7, \"Bio\");\n$RefreshReg$(_c8, \"Stats\");\n$RefreshReg$(_c9, \"StatItem\");\n$RefreshReg$(_c0, \"StatValue\");\n$RefreshReg$(_c1, \"StatLabel\");\n$RefreshReg$(_c10, \"ActionButton\");\n$RefreshReg$(_c11, \"TabsContainer\");\n$RefreshReg$(_c12, \"Tab\");\n$RefreshReg$(_c13, \"BoardsGrid\");\n$RefreshReg$(_c14, \"BoardCard\");\n$RefreshReg$(_c15, \"BoardThumbnail\");\n$RefreshReg$(_c16, \"BoardInfo\");\n$RefreshReg$(_c17, \"BoardName\");\n$RefreshReg$(_c18, \"BoardStats\");\n$RefreshReg$(_c19, \"EmptyState\");\n$RefreshReg$(_c20, \"EmptyStateTitle\");\n$RefreshReg$(_c21, \"EmptyStateMessage\");\n$RefreshReg$(_c22, \"ProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useAuth","getUserProfile","getBoards","sendFriendRequest","checkFriendshipStatus","Spinner","PinGrid","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileContainer","div","_c","ProfileHeader","_c2","AvatarContainer","_c3","Avatar","_c4","ProfileInfo","_c5","Username","h1","_c6","Bio","p","_c7","Stats","_c8","StatItem","_c9","StatValue","_c0","StatLabel","_c1","ActionButton","button","props","primary","_c10","TabsContainer","_c11","Tab","active","_c12","BoardsGrid","_c13","BoardCard","_c14","BoardThumbnail","_c15","BoardInfo","_c16","BoardName","h3","_c17","BoardStats","_c18","EmptyState","_c19","EmptyStateTitle","_c20","EmptyStateMessage","_c21","ProfilePage","_s","username","currentUser","profile","setProfile","boards","setBoards","pins","setPins","activeTab","setActiveTab","loading","setLoading","error","setError","friendshipStatus","setFriendshipStatus","friendRequestSent","setFriendRequestSent","fetchProfileData","profileResponse","data","boardsResponse","user_id","statusResponse","status","err","console","handleSendFriendRequest","handleTabChange","tab","fileName","_jsxFileName","lineNumber","columnNumber","children","isOwnProfile","charAt","toUpperCase","profile_info","length","pin_count","friend_count","as","to","disabled","onClick","map","board","board_id","cover_image","src","alt","board_name","style","height","display","alignItems","justifyContent","color","minHeight","textAlign","width","viewBox","fill","xmlns","d","marginTop","_c22","$RefreshReg$"],"sources":["C:/Users/suki/Desktop/pinboard/pinboard-frontend/src/components/user/ProfilePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { getUserProfile } from '../../services/userService';\r\nimport { getBoards } from '../../services/boardService';\r\nimport { sendFriendRequest, checkFriendshipStatus } from '../../services/socialService';\r\nimport Spinner from '../common/Spinner';\r\nimport PinGrid from '../pin/PinGrid';\r\nimport styled from 'styled-components';\r\n\r\nconst ProfileContainer = styled.div`\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst ProfileHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 2rem;\r\n  padding: 2rem;\r\n  background-color: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  \r\n  @media (min-width: 768px) {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst AvatarContainer = styled.div`\r\n  margin-bottom: 1.5rem;\r\n  \r\n  @media (min-width: 768px) {\r\n    margin-right: 2rem;\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst Avatar = styled.div`\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n  background-color: #f0f0f0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 3rem;\r\n  font-weight: bold;\r\n  color: #666;\r\n`;\r\n\r\nconst ProfileInfo = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  \r\n  @media (min-width: 768px) {\r\n    text-align: left;\r\n  }\r\n`;\r\n\r\nconst Username = styled.h1`\r\n  font-size: 2rem;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst Bio = styled.p`\r\n  color: #666;\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst Stats = styled.div`\r\n  display: flex;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n  justify-content: center;\r\n  \r\n  @media (min-width: 768px) {\r\n    justify-content: flex-start;\r\n  }\r\n`;\r\n\r\nconst StatItem = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst StatValue = styled.div`\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst StatLabel = styled.div`\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background-color: ${props => props.primary ? '#e60023' : '#f0f0f0'};\r\n  color: ${props => props.primary ? 'white' : '#333'};\r\n  border: none;\r\n  border-radius: 24px;\r\n  padding: 0.75rem 1.5rem;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n  align-self: center;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.primary ? '#ad081b' : '#ddd'};\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: #ddd;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  @media (min-width: 768px) {\r\n    align-self: flex-start;\r\n  }\r\n`;\r\n\r\nconst TabsContainer = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid #ddd;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Tab = styled.button`\r\n  padding: 1rem 1.5rem;\r\n  background: none;\r\n  border: none;\r\n  border-bottom: 3px solid ${props => props.active ? '#e60023' : 'transparent'};\r\n  color: ${props => props.active ? '#e60023' : '#666'};\r\n  font-weight: ${props => props.active ? 'bold' : 'normal'};\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  \r\n  &:hover {\r\n    color: #e60023;\r\n  }\r\n`;\r\n\r\nconst BoardsGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: 1.5rem;\r\n`;\r\n\r\nconst BoardCard = styled(Link)`\r\n  background-color: white;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.2s;\r\n  \r\n  &:hover {\r\n    transform: translateY(-5px);\r\n  }\r\n`;\r\n\r\nconst BoardThumbnail = styled.div`\r\n  height: 150px;\r\n  background-color: #f5f5f5;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n`;\r\n\r\nconst BoardInfo = styled.div`\r\n  padding: 1rem;\r\n`;\r\n\r\nconst BoardName = styled.h3`\r\n  font-size: 1.1rem;\r\n  margin-bottom: 0.25rem;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst BoardStats = styled.div`\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: 3rem;\r\n  text-align: center;\r\n  background-color: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst EmptyStateTitle = styled.h3`\r\n  font-size: 1.2rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst EmptyStateMessage = styled.p`\r\n  color: #666;\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst ProfilePage = () => {\r\n  const { username } = useParams();\r\n  const { currentUser } = useAuth();\r\n  \r\n  const [profile, setProfile] = useState(null);\r\n  const [boards, setBoards] = useState([]);\r\n  const [pins, setPins] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('boards');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [friendshipStatus, setFriendshipStatus] = useState(null);\r\n  const [friendRequestSent, setFriendRequestSent] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    const fetchProfileData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        // 获取用户资料\r\n        const profileResponse = await getUserProfile(username);\r\n        setProfile(profileResponse.data);\r\n        \r\n        // 获取用户的面板\r\n        const boardsResponse = await getBoards(profileResponse.data.user_id);\r\n        setBoards(boardsResponse.data);\r\n        \r\n        // 如果已登录，检查好友关系状态\r\n        if (currentUser && currentUser.user_id !== profileResponse.data.user_id) {\r\n          const statusResponse = await checkFriendshipStatus(profileResponse.data.user_id);\r\n          setFriendshipStatus(statusResponse.data.status);\r\n        }\r\n        \r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('获取用户资料失败:', err);\r\n        setError('获取用户资料失败，请稍后再试');\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchProfileData();\r\n  }, [username, currentUser]);\r\n  \r\n  const handleSendFriendRequest = async () => {\r\n    if (!currentUser) return;\r\n    \r\n    try {\r\n      await sendFriendRequest(profile.user_id);\r\n      setFriendshipStatus('pending');\r\n      setFriendRequestSent(true);\r\n    } catch (err) {\r\n      console.error('发送好友请求失败:', err);\r\n    }\r\n  };\r\n  \r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n  };\r\n  \r\n  if (loading) {\r\n    return <Spinner />;\r\n  }\r\n  \r\n  if (error || !profile) {\r\n    return <div>Error: {error || '找不到该用户'}</div>;\r\n  }\r\n  \r\n  const isOwnProfile = currentUser && currentUser.user_id === profile.user_id;\r\n  \r\n  return (\r\n    <ProfileContainer>\r\n      <ProfileHeader>\r\n        <AvatarContainer>\r\n          <Avatar>{profile.username.charAt(0).toUpperCase()}</Avatar>\r\n        </AvatarContainer>\r\n        \r\n        <ProfileInfo>\r\n          <Username>{profile.username}</Username>\r\n          \r\n          {profile.profile_info && (\r\n            <Bio>{profile.profile_info}</Bio>\r\n          )}\r\n          \r\n          <Stats>\r\n            <StatItem>\r\n              <StatValue>{boards.length}</StatValue>\r\n              <StatLabel>面板</StatLabel>\r\n            </StatItem>\r\n            <StatItem>\r\n              <StatValue>{profile.pin_count || 0}</StatValue>\r\n              <StatLabel>图钉</StatLabel>\r\n            </StatItem>\r\n            <StatItem>\r\n              <StatValue>{profile.friend_count || 0}</StatValue>\r\n              <StatLabel>好友</StatLabel>\r\n            </StatItem>\r\n          </Stats>\r\n          \r\n          {isOwnProfile ? (\r\n            <ActionButton as={Link} to=\"/profile/edit\">编辑个人资料</ActionButton>\r\n          ) : currentUser && (\r\n            <>\r\n              {friendshipStatus === 'friends' && (\r\n                <ActionButton disabled>已是好友</ActionButton>\r\n              )}\r\n              {friendshipStatus === 'pending' && (\r\n                <ActionButton disabled>\r\n                  {friendRequestSent ? '请求已发送' : '等待接受'}\r\n                </ActionButton>\r\n              )}\r\n              {(!friendshipStatus || friendshipStatus === 'none') && (\r\n                <ActionButton primary onClick={handleSendFriendRequest}>\r\n                  添加好友\r\n                </ActionButton>\r\n              )}\r\n            </>\r\n          )}\r\n        </ProfileInfo>\r\n      </ProfileHeader>\r\n      \r\n      <TabsContainer>\r\n        <Tab \r\n          active={activeTab === 'boards'} \r\n          onClick={() => handleTabChange('boards')}\r\n        >\r\n          面板\r\n        </Tab>\r\n        <Tab \r\n          active={activeTab === 'pins'} \r\n          onClick={() => handleTabChange('pins')}\r\n        >\r\n          图钉\r\n        </Tab>\r\n      </TabsContainer>\r\n      \r\n      {activeTab === 'boards' && (\r\n        <>\r\n          {boards.length > 0 ? (\r\n            <BoardsGrid>\r\n              {boards.map(board => (\r\n                <BoardCard key={board.board_id} to={`/board/${board.board_id}`}>\r\n                  <BoardThumbnail>\r\n                    {board.cover_image ? (\r\n                      <img src={board.cover_image} alt={board.board_name} />\r\n                    ) : (\r\n                      <div style={{ height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#999' }}>\r\n                        暂无图片\r\n                      </div>\r\n                    )}\r\n                  </BoardThumbnail>\r\n                  <BoardInfo>\r\n                    <BoardName>{board.board_name}</BoardName>\r\n                    <BoardStats>{board.pin_count || 0} 个图钉</BoardStats>\r\n                  </BoardInfo>\r\n                </BoardCard>\r\n              ))}\r\n              \r\n              {isOwnProfile && (\r\n                <BoardCard to=\"/board/create\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', minHeight: '200px' }}>\r\n                  <div style={{ textAlign: 'center' }}>\r\n                    <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" fill=\"#666\" />\r\n                    </svg>\r\n                    <div style={{ marginTop: '0.5rem', color: '#666' }}>创建面板</div>\r\n                  </div>\r\n                </BoardCard>\r\n              )}\r\n            </BoardsGrid>\r\n          ) : (\r\n            <EmptyState>\r\n              <EmptyStateTitle>\r\n                {isOwnProfile ? '您还没有创建任何面板' : `${profile.username} 还没有创建任何面板`}\r\n              </EmptyStateTitle>\r\n              <EmptyStateMessage>\r\n                {isOwnProfile \r\n                  ? '面板是整理和保存图钉的地方。为您的不同兴趣创建面板，开始收集灵感吧！' \r\n                  : '当有面板创建时，它们将显示在这里。'}\r\n              </EmptyStateMessage>\r\n              \r\n              {isOwnProfile && (\r\n                <ActionButton primary as={Link} to=\"/board/create\">\r\n                  创建第一个面板\r\n                </ActionButton>\r\n              )}\r\n            </EmptyState>\r\n          )}\r\n        </>\r\n      )}\r\n      \r\n      {activeTab === 'pins' && (\r\n        <>\r\n          {pins.length > 0 ? (\r\n            <PinGrid pins={pins} />\r\n          ) : (\r\n            <EmptyState>\r\n              <EmptyStateTitle>\r\n                {isOwnProfile ? '您还没有保存任何图钉' : `${profile.username} 还没有保存任何图钉`}\r\n              </EmptyStateTitle>\r\n              <EmptyStateMessage>\r\n                {isOwnProfile \r\n                  ? '保存您喜欢的图钉，开始创建个人收藏吧！' \r\n                  : '当保存图钉时，它们将显示在这里。'}\r\n              </EmptyStateMessage>\r\n              \r\n              {isOwnProfile && (\r\n                <ActionButton primary as={Link} to=\"/\">\r\n                  浏览图钉\r\n                </ActionButton>\r\n              )}\r\n            </EmptyState>\r\n          )}\r\n        </>\r\n      )}\r\n    </ProfileContainer>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}